<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1" />
    <title>Cellula</title>
    <!--Base for github pages-->
    <base href="./" target="_blank" />
    <!--Import Resources-->
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/toolbar.css" />
    <link rel="stylesheet" href="./css/windows.css" />
    <link rel="stylesheet" href="./css/selector.css" />
    <!--GPU.js CDN-->
    <script src="https://cdn.jsdelivr.net/npm/gpu.js@2.10.1/dist/gpu-browser.min.js"></script>
    <!--Pixelify Sans Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet" />
</head>

<body>
    <div id="toolbar">
        <p id="app-title">Cellula</p>
        <!--Automata window trigger-->
        <div class="dropdown window-trigger">
            <button class="dropbtn triggerbtn" id="automata-btn">Life</button>
        </div>
        <!--Settings window trigger-->
        <div class="dropdown window-trigger">
            <button class="dropbtn triggerbtn" id="settings-btn">Settings</button>
        </div>
        <!--File dropdown-->
        <div class="dropdown">
            <button class="dropbtn">File</button>
            <div class="dropdown-content">
                <!--TODO: Replace these with proper shortcuts-->
                <button class="dropdown-option">
                    <span class="option-name">Save</span>
                    <span class="option-shortcut">S</span>
                </button>
                <!--TODO: This should open a window-->
                <button class="dropdown-option">
                    <span class="option-name">Load</span>
                    <span class="option-shortcut">V</span>
                </button>
            </div>
        </div>
        <!--Controls dropdown-->
        <div class="dropdown">
            <button class="dropbtn">Controls</button>
            <div class="dropdown-content">
                <p>View</p>
                <button class="dropdown-option">
                    <span class="option-name">Toggle Toolbar</span>
                    <span class="option-shortcut">Esc</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Step</span>
                    <span class="option-shortcut">.</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Pause/Unpause</span>
                    <span class="option-shortcut">Space/P</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Randomize Grid</span>
                    <span class="option-shortcut">Tab/R</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Higher Delay</span>
                    <span class="option-shortcut">+</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Lower Delay</span>
                    <span class="option-shortcut">-</span>
                </button>
                <p>Pen</p>
                <button class="dropdown-option">
                    <span class="option-name">Higher Fill Amt</span>
                    <span class="option-shortcut">ArrowUp</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Lower Fill Amt</span>
                    <span class="option-shortcut">ArrowDown</span>
                </button>
                <button class="dropdown-option">
                    <span class="option-name">Change Pen Fill</span>
                    <span class="option-shortcut">Shift</span>
                </button>
            </div>
        </div>
        <!--TODO: Remove this rule div by moving it to the settings-->
        <div id="rule-div">
            <label for="rule-input"><a
                    href="https://conwaylife.com/wiki/List_of_Life-like_rules">Rulestring:</a></label>
            <input type="text" id="rule-input" name="rule-input" placeholder="B/S" />
        </div>
        <!--Console-->
        <p id="console-container">
            Â»
            <span id="console">Space/P to pause, Arrows to change pen radius, -/+ to change grid
                update interval, R to randomize grid, Shift to change pen
            </span>
        </p>
    </div>
    <!-- Draggable Automata Select -->
    <div id="automata" class="window">
        <div id="automata-header" class="window-header">
            <span class="window-title">Select Automata</span>
            <span class="window-delete">X</span>
        </div>
        <div id='automata-content' class='window-content'>
            <!--Buttons for selection-->
            <div class="sidenav">
                <p>Discrete Automata</p>
                <button class="select-btn selected">Life</button>
                <button class="select-btn">Brian's Brain</button>
                <button class="select-btn">Wireworld</button>
                <button class="select-btn">Rock, Paper, Scissors</button>
            </div>
            <!--Content for Life-->
            <div id="life-info" class="side-content">
                <h1>Game of Life</h1>
                <img src="./images/Life.gif" alt="Life GIF">
                <h2>Description</h2>
                <p>
                    Conway's Game of Life (GoL) is a zero-player game, where the evolution of the game board depends
                    only on the state of the board.
                    It is the best known example of a cellular automaton. To interact with the game, you can create an
                    initial configuration and see how it involves,
                    pausing or stepping through the states of the board. Interestingly, the GoL is turing complete and
                    can simulate a universal constructor or any other turing machine.
                </p>
                <h2>Rules</h2>
                <p>The game of life has cells in 2 states, alive and dead. The evolution of a cell depends on its 8
                    neighbors. For the GoL, the below are the rules:</p>
                <ul>
                    <li>A dead cell comes alive if it has exactly 3 neighbors</li>
                    <li>A live cell survives only if it has 2 or 3 neighbors</li>
                </ul>
                <p>The above rules can be represented by the rulestring B3/S23. Life-like automata are a class of
                    automata which can be represented by such rulestring. For example, the automata "HighLife" is
                    represented by B36/S23, where birth occurs when a cell has 3 or 6 neighbors, and survival occurs
                    when a live cell has 2 or 3 neighbors</p>
                <h2>Additional Info</h2>
                <p>This simulator has been modified to allow for modification of the neighborhoods for life-like
                    automata. For automata with neighborhoods of size greater than 10, numbers in rulestrings can be
                    wrapped in brackets [Example: B1(10)/S2(10)]</p>
                <p>Click here for more info on <a href="https://conwaylife.com/wiki/Rulestring">rulestrings</a> and
                    <a href="https://conwaylife.com/wiki/List_of_Life-like_rules">life-like automata</a>.
                </p>
            </div>
            <!--Content for Brian's Brain-->
            <div id="brain-info" class="side-content">
                <h1>Brian's Brain</h1>
                <img src="./images/Life.gif" alt="Life GIF">
            </div>
            <!--Content for Wireworld-->
            <div id="wire-info" class="side-content">
                <h1>Wireworld</h1>
                <img src="./images/Life.gif" alt="Life GIF">
            </div>
            <!--Content for Rock, Paper, Scissors-->
            <div id="rps-info" class="side-content">
                <h1>Rock, Paper, Scissors</h1>
                <img src="./images/Life.gif" alt="Life GIF">
            </div>
        </div>
    </div>
    <!-- Draggable Settings -->
    <div id="settings" class="window">
        <div id="settings-header" class="window-header">
            <span class="window-title">Settings</span>
            <span class="window-delete">X</span>
        </div>
        <p>Content</p>
    </div>
    <!--Draggeable file load-->
    <div id="load" class="window">
        <div id="load-header" class="window-header">
            <span class="window-title">Load File</span>
            <span class="window-delete">X</span>
        </div>
        <p>Content</p>
    </div>
    <canvas id="cellGrid"></canvas>
    <script type="module" src="./js/automata.js"></script>
    <script type="module" src="./js/input/userInput.js"></script>
    <script type="module" src="./js/input/selector.js"></script>
</body>

</html>